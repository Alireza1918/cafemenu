<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>منوی کافه کاردیتو</title>

<link href="https://fonts.googleapis.com/css2?family=Vazir:wght@400;700&display=swap" rel="stylesheet">

<style>
:root{
  --green:#046d44;
  --green-light:#05985f;
  --gray:#3f3f3f;
  --white:#ffffff;
  --radius:18px;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:Vazir,sans-serif;
  direction:rtl;
  background:var(--green);
  color:#fff;
}

/* ===== Background Logo ===== */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:url('logo.png') no-repeat center/420px;
  opacity:1;
  animation:pulse 3s ease-in-out infinite;
  pointer-events:none;
}

@keyframes pulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.08)}
}

/* ===== Layout ===== */
.wrapper{
  max-width:960px;
  margin:auto;
  padding:40px 20px 80px;
  position:relative;
  z-index:1;
}

.header{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:20px;
  margin-bottom:50px;
}

.header img{
  height:90px;
  animation:sparkle 2s infinite;
}

@keyframes sparkle{
  0%,100%{filter:brightness(100%)}
  50%{filter:brightness(160%)}
}

.header h1{
  font-size:56px;
  margin:0;
}

/* ===== Category Button ===== */
.category{
  margin-bottom:18px;
}

.category-btn{
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding:16px 28px;
  background:var(--green-light);
  color:#fff;
  font-size:24px;
  border-radius:var(--radius);
  cursor:pointer;
  transition:.3s;
}

.category-btn.active{
  background:#fff;
  color:#000;
  border-bottom-left-radius:0;
  border-bottom-right-radius:0;
}

/* ===== Menu Card ===== */
.menu-card{
  background:var(--green-light);
  border-radius:0 var(--radius) var(--radius) var(--radius);
  overflow:hidden;
  max-height:0;
  transition:max-height .45s ease;
}

.menu-card.active{
  max-height:2000px;
}

.item{
  display:flex;
  justify-content:space-between;
  gap:15px;
  padding:20px 24px;
  border-bottom:1px solid rgba(255,255,255,.25);
  font-size:22px;
}

.item:last-child{border:none}

.item small{
  display:block;
  font-size:17px;
  opacity:.9;
  margin-top:6px;
}

.price{
  font-weight:700;
  white-space:nowrap;
}

/* ===== Responsive ===== */
@media (max-width:600px){
  .header h1{font-size:42px}
  .header img{height:70px}
  .category-btn{font-size:20px}
  .item{font-size:20px}
}
</style>
</head>

<body>

<div class="wrapper">
  <div class="header">
    <h1>منوی کافه کاردیتو</h1>
    <img src="logo.png" alt="Cafe Logo">
  </div>

  <div id="menu"></div>
</div>

<script>
/* ========= CSV LINK ========= */
const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRp_aRQ_XjogTCw1nrzonw8YLUyNuVFO1nviydXbz2sSZOv5Ma16ChADiq5UqqIIx7jAEmltZpUfJ_t/pub?output=csv"; // ← اینو بعداً خودت بذار

fetch(CSV_URL)
.then(r=>r.text())
.then(t=>{
  const rows=t.split('\n').slice(1).filter(r=>r.trim());
  const data={};

  rows.forEach(r=>{
    const [cat,name,desc,price,status]=r.split(',').map(x=>x.trim());
    if(status==="on"){
      if(!data[cat]) data[cat]=[];
      data[cat].push({name,desc,price});
    }
  });

  const menu=document.getElementById('menu');

  Object.keys(data).forEach(cat=>{
    const wrap=document.createElement('div');
    wrap.className="category";

    const btn=document.createElement('div');
    btn.className="category-btn";
    btn.textContent=cat;

    const card=document.createElement('div');
    card.className="menu-card";

    data[cat].forEach(p=>{
      card.innerHTML+=`
        <div class="item">
          <div>
            ${p.name}
            <small>${p.desc}</small>
          </div>
          <div class="price">${p.price}</div>
        </div>`;
    });

    btn.onclick=()=>{
      document.querySelectorAll('.category-btn').forEach(b=>b.classList.remove('active'));
      document.querySelectorAll('.menu-card').forEach(c=>c.classList.remove('active'));

      btn.classList.add('active');
      card.classList.add('active');
    };

    wrap.appendChild(btn);
    wrap.appendChild(card);
    menu.appendChild(wrap);
  });
});
</script>

</body>
</html>
